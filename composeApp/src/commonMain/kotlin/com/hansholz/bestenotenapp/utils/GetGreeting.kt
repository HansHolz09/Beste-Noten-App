package com.hansholz.bestenotenapp.utils

import kotlin.random.Random
import kotlin.time.Clock
import kotlin.time.ExperimentalTime
import kotlinx.datetime.DayOfWeek
import kotlinx.datetime.TimeZone
import kotlinx.datetime.toLocalDateTime

/* Pre-generated by AI */
@OptIn(ExperimentalTime::class)
fun getGreeting(name: String): String {
    val now = Clock.System.now()
    val localTime = now.toLocalDateTime(TimeZone.currentSystemDefault())
    val hour = localTime.hour
    val dayOfWeek = localTime.dayOfWeek

    val motivationssprueche = listOf(
        "Wissen ist der SchlÃ¼ssel zum Erfolg. ðŸ”‘",
        "Jeder Fehler ist eine Chance zu lernen. âœ¨",
        "Bleib neugierig und hinterfrage alles! ðŸ¤”",
        "Du schaffst das! ðŸ’ª",
        "Auch die lÃ¤ngste Reise beginnt mit einem ersten Schritt. ðŸŒ±",
        "Glaube an dich, dann ist alles mÃ¶glich. ðŸŒŸ",
        "Der einzige Weg, groÃŸartige Arbeit zu leisten, ist, zu lieben, was man tut. â¤ï¸",
        "Erfolg ist die Summe kleiner Anstrengungen, die Tag fÃ¼r Tag wiederholt werden. ðŸŽ¯",
        "Sei stÃ¤rker als deine stÃ¤rkste Ausrede.",
        "Die Zukunft gehÃ¶rt denen, die an die SchÃ¶nheit ihrer TrÃ¤ume glauben. ðŸŒˆ",
        "Steter Tropfen hÃ¶hlt den Stein. Bleib dran!",
        "Fordere dich selbst heraus, du weiÃŸt nie, wozu du fÃ¤hig bist.",
        "Ein Ziel ohne Plan ist nur ein Wunsch. Schreib's auf! âœï¸",
        "Lernen ist wie Rudern gegen den Strom. HÃ¶rt man damit auf, treibt man zurÃ¼ck. ðŸ›¶",
        "Der Schmerz, den du heute fÃ¼hlst, ist die StÃ¤rke, die du morgen spÃ¼rst. ðŸ‹ï¸",
        "Es ist nicht wichtig, wie langsam du gehst, solange du nicht stehen bleibst. ðŸ¢",
        "Bildung ist die mÃ¤chtigste Waffe, die du verwenden kannst, um die Welt zu verÃ¤ndern. ðŸŒ",
        "Sei heute besser als du gestern warst. ðŸ“ˆ"
    )

    val themenAnstupser = listOf(
        "Wie wÃ¤r's heute mit einer Runde Mathe-Ãœbungen? ðŸ§®",
        "Zeit, die GeschichtsbÃ¼cher zu wÃ¤lzen und in die Vergangenheit zu reisen. ðŸ“œ",
        "Lust, heute ein paar neue Vokabeln in einer Fremdsprache zu lernen? ðŸ—£ï¸",
        "Die Welt der Naturwissenschaften wartet darauf, von dir entdeckt zu werden. ðŸ”¬",
        "Lass deiner KreativitÃ¤t im Kunst- oder Musikunterricht freien Lauf. ðŸŽ¨ðŸŽ¶",
        "Ein Gedicht oder eine Kurzgeschichte lesen? Das erweitert den Horizont. ðŸ“š",
        "Sport ist ein super Ausgleich zum Lernen. Schon bewegt heute? ðŸƒâ€â™€ï¸",
        "Vergiss nicht, auch die Formeln in Physik und Chemie zu wiederholen. ðŸ§ª",
        "Geografie-Skills verbessern? Entdecke die Welt auf der Karte! ðŸ—ºï¸"
    )

    val notenAufmunterung = listOf(
        "Jede Note ist nur eine Momentaufnahme. Wichtig ist, was du daraus machst. ðŸ“¸",
        "Denk daran: Der Weg ist das Ziel, nicht nur das Ergebnis. ðŸš¶â€â™‚ï¸",
        "Jede gelÃ¶ste Aufgabe bringt dich deinem Ziel einen Schritt nÃ¤her. ðŸªœ",
        "Sei stolz auf deine Fortschritte, egal wie klein sie scheinen. ðŸ’–",
        "Organisation ist die halbe Miete. Plane deine Aufgaben also sorgfÃ¤ltig! ðŸ—“ï¸",
        "Eine gute Note ist eine Belohnung fÃ¼r deine MÃ¼he. Feiere deine Erfolge! ðŸŽ‰",
        "Auch aus einer schlechten Note kann man viel lernen. Kopf hoch! ðŸ‘",
        "Dein Einsatz wird sich auszahlen, versprochen! ðŸ¤ž"
    )

    val wochenendeTipps = listOf(
        "Nutze das Wochenende, um die Akkus wieder aufzuladen. ðŸ”‹",
        "Ein gutes Buch und eine Tasse Tee wirken Wunder. ðŸ“–â˜•",
        "Triff dich mit Freunden, das gibt neue Energie! ðŸ˜Š",
        "Wie wÃ¤re es mit einem Spaziergang an der frischen Luft? ðŸŒ³â˜€ï¸",
        "Zeit fÃ¼r dein Hobby! Was wolltest du schon immer mal wieder machen? ðŸŽ®",
        "Manchmal ist Nichtstun das Produktivste, was man tun kann. ðŸ§˜"
    )

    val wochentagMorgen = listOf(
        "Guten Morgen, $name! â˜€ï¸ Auf in einen neuen Lerntag!",
        "Moin $name! â˜• Zeit, dein Gehirn zu starten.",
        "Der frÃ¼he Vogel fÃ¤ngt das Wissen, $name. ðŸ¦‰",
        "Bereit fÃ¼r die Schule, $name? Zeig, was in dir steckt! ðŸš€",
        "Ein neuer Tag, eine neue Chance, zu glÃ¤nzen, $name!",
        "Guten Morgen, $name. Ein gutes FrÃ¼hstÃ¼ck und los geht's!",
        "Steh auf, $name, die Welt des Wissens wartet auf dich."
    )

    val wochentagVormittag = listOf(
        "Hi $name, wie lÃ¤uft die Schule? ðŸ“š",
        "Viel Erfolg im Unterricht heute, $name! ðŸ‘",
        "Hallo $name. Konzentration und dann ab in die wohlverdiente Pause.",
        "Na $name, schon was Neues gelernt heute? ðŸ’¡",
        "Halte durch, $name! Das Mittagessen ist nicht mehr weit. ðŸ¥ª",
        "Hallo $name. Bleib fokussiert, du machst das super!",
        "Ein produktiver Vormittag, $name?"
    )

    val wochentagNachmittag = listOf(
        "Willkommen zurÃ¼ck, $name! ðŸ¤“ Zeit, die Hausaufgaben zu rocken.",
        "Hallo $name. Was steht heute auf deinem Lernplan? âœï¸",
        "Pause vorbei, $name? Meistere die nÃ¤chste Aufgabe!",
        "Nachmittag, $name. Ein guter Zeitpunkt, um Wissen zu festigen. ðŸ§ ",
        "Schule geschafft fÃ¼r heute, $name? Jetzt geht's ans Wiederholen.",
        "Hi $name, wie war dein Schultag? Check deine Noten!",
        "Der Nachmittag ist perfekt, um Projekte voranzutreiben, $name."
    )

    val wochentagAbend = listOf(
        "Guten Abend, $name. Alles fÃ¼r heute geschafft? âœ…",
        "SchÃ¶nen Feierabend, $name. Du hast es dir verdient. ðŸ˜Œ",
        "Na $name, noch eine kleine Runde Vokabeln vor dem Schlafen? âœ¨",
        "Gut gemacht heute, $name. Morgen ist ein neuer Tag. ðŸŒ™",
        "Zeit zum Entspannen, $name. Dein Gehirn braucht auch mal eine Pause.",
        "Lass den Tag Revue passieren, $name. Was hast du heute gelernt?",
        "Guten Abend, $name. Vergiss nicht, stolz auf dich zu sein."
    )

    val wochenendeMorgen = listOf(
        "SchÃ¶nes Wochenende, $name! â˜€ï¸ Gut geschlafen?",
        "Guten Morgen, $name! Zeit fÃ¼r ein entspanntes FrÃ¼hstÃ¼ck. ðŸ¥ž",
        "Wochenende! ðŸŽ‰ Was steht SchÃ¶nes auf dem Plan, $name?",
        "Moin $name! GenieÃŸe den freien Tag. ðŸ˜Ž"
    )

    val wochenendeTagsueber = listOf(
        "Hallo $name, ich hoffe, du genieÃŸt dein Wochenende! ðŸ˜Š",
        "Hi $name! Eine kleine Lernpause am Wochenende? Oder lieber komplett frei? ðŸ˜‰",
        "Na $name, entspannst du schÃ¶n? Das hast du dir verdient!",
        "Willkommen, $name. Auch am Wochenende fÃ¼r dich da, falls du deine Noten sehen willst."
    )

    val nachtUndFallbackGruesse = listOf(
        "Hallo $name! SchÃ¶n, dich zu sehen.",
        "Willkommen zurÃ¼ck in deiner Noten-Zentrale, $name.",
        "Na, $name, bereit fÃ¼r eine Dosis Wissen?",
        "SpÃ¤t unterwegs, $name? Eine kleine Lerneinheit geht immer. ðŸ˜‰",
        "Hallo $name. Jede Zeit ist eine gute Zeit zum Lernen.",
        "Willkommen, $name. Lass uns deine Ziele verfolgen."
    )


    val istWochenende = dayOfWeek == DayOfWeek.SATURDAY || dayOfWeek == DayOfWeek.SUNDAY

    val passendeBegruessungsListe = if (istWochenende) {
        when (hour) {
            in 8..11 -> wochenendeMorgen
            in 12..22 -> wochenendeTagsueber
            else -> nachtUndFallbackGruesse
        }
    } else {
        when (hour) {
            in 5..9 -> wochentagMorgen
            in 10..13 -> wochentagVormittag
            in 14..17 -> wochentagNachmittag
            in 18..22 -> wochentagAbend
            else -> nachtUndFallbackGruesse
        }
    }

    val begruessung = StringBuilder(passendeBegruessungsListe.random())

    if (Random.nextInt(0, 4) == 0) {
        if (istWochenende && hour > 11) {
            begruessung.append("\n\n")
            when (Random.nextInt(0, 2)) {
                0 -> begruessung.append(wochenendeTipps.random())
                1 -> begruessung.append(motivationssprueche.random())
            }
        } else if (!istWochenende && hour in 9..22) {
            begruessung.append("\n\n")
            when (Random.nextInt(0, 3)) {
                0 -> begruessung.append(motivationssprueche.random())
                1 -> begruessung.append(themenAnstupser.random())
                2 -> begruessung.append(notenAufmunterung.random())
            }
        }
    }

    return begruessung.toString()
}